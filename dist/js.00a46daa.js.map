{"version":3,"sources":["js/redditapi.js","js/index.js"],"names":["search","searchTerm","searchLimit","sortBy","time","fetch","then","res","json","data","children","map","catch","err","console","log","searchForm","document","getElementById","searchInput","addEventListener","e","value","querySelector","showMessage","reddit","results","output","forEach","post","image","preview","images","source","url","permalink","title","truncateText","selftext","subreddit","score","ups","innerHTML","preventDefault","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","text","limit","shortened","indexOf","substring"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"..","sourcesContent":["export default {\n  search: function (searchTerm, searchLimit, sortBy, time) {\n    return fetch(\n      `http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}&t=${time}`\n    )\n      .then((res) => res.json())\n      .then((data) => data.data.children.map((data) => data.data))\n      .catch((err) => console.log(err));\n  },\n};\n","import reddit from \"./redditapi\";\n\nconst searchForm = document.getElementById(\"search-form\");\nconst searchInput = document.getElementById(\"search-input\");\n\nsearchForm.addEventListener(\"submit\", (e) => {\n  const searchTerm = searchInput.value;\n  const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n  const searchLimit = document.getElementById(\"limit\").value;\n  const time = document.getElementById(\"Time\").value;\n\n  if (searchTerm === \"\") {\n    showMessage(\"Please add a search term\", \"alert-danger\");\n  }\n\n  searchInput.value = \"\";\n\n  reddit.search(searchTerm, searchLimit, sortBy, time).then((results) => {\n    console.log(results);\n    let output = '<div class=\"card-columns\">';\n    results.forEach((post) => {\n      let image = post.preview\n        ? post.preview.images[0].source.url\n        : \"https://rdwgroup.com/wp-content/uploads/2018/10/reddit2-800x450-1.png\";\n\n      output += `<div class=\"card reddit\">\n                 <a href=\"http://www.reddit.com${\n                   post.permalink\n                 }\" target=\"_blank\"><img src=\"${image}\" class=\"card-img-top\" alt=\"...\"></a>\n                <div class=\"card-body\">\n                  <h5 class=\"card-title\">${post.title}</h5>\n                  <p class=\"card-text\">${truncateText(post.selftext, 100)}</p>\n                  <a href=\"${\n                    post.url\n                  }\" target=\"_blank\" id=\"cardbtn\" class=\"btn btn-block mt-4\">Read more</a>\n                  <hr>\n                  <span class=\"badge badge-secondary\">Subreddit: ${\n                    post.subreddit\n                  }</span>\n                  <span class=\"badge badge-score\">Score: ${post.score}  Ups: ${\n        post.ups\n      }</span>\n                </div>\n              </div>`;\n    });\n    output += \"</div>\";\n    document.getElementById(\"results\").innerHTML = output;\n  });\n\n  e.preventDefault();\n});\n\nfunction showMessage(message, className) {\n  const div = document.createElement(\"div\");\n  div.className = `alert ${className}`;\n  div.appendChild(document.createTextNode(message));\n  const searchContainer = document.getElementById(\"search-container\");\n  const search = document.getElementById(\"search\");\n  searchContainer.insertBefore(div, search);\n\n  setTimeout(() => {\n    document.querySelector(\".alert\").remove();\n  }, 1000);\n}\n\nfunction truncateText(text, limit) {\n  const shortened = text.indexOf(\" \", limit);\n  if (shortened == -1) return text;\n  return text.substring(0, shortened);\n}\n"]}